SELECT A.JOBCODE, A.DESCR, A.EFF_STATUS, TO_CHAR(A.EFFDT,'YYYY-MM-DD'), A.MED_CHKUP_REQ
  FROM PS_JOBCODE_TBL A
  WHERE ( A.EFFDT =
        (SELECT MAX(A_ED.EFFDT) FROM PS_JOBCODE_TBL A_ED
        WHERE A.SETID = A_ED.SETID
          AND A.JOBCODE = A_ED.JOBCODE
          AND A_ED.EFFDT <= SYSDATE)
     AND A.EFF_STATUS = 'A')
