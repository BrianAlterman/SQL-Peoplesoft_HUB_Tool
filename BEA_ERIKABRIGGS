	
SELECT DISTINCT A.TREE_NODE, D.EMPLID, D.NAME, D.EMPL_STATUS, D.JOBCODE_DESCR, D.LOCATION, D.LOCATION_DESCR, E.STATE, D.SUPERVISOR_ID, D.AC_SUPER_NAME, E.PHONE
  FROM PS_PSTREENODE_DW A, PS_AC_POSN_SBUD_VW D, PS_AC_POSN_SRCH D1, PS_LOCATION_TBL E, PS_AC_EMPLS_VW F, PS_EMPLMT_SRCH_QRY F1
  WHERE ( D.POSITION_NBR = D1.POSITION_NBR
    AND D1.OPRCLASS = 'WIN_VW'
    AND F.EMPLID = F1.EMPLID
    AND F1.OPRID = 'E0182265'
    AND ( A.TREE_NODE_NUM >= (SELECT B.TREE_NODE_NUM
  FROM PS_PSTREENODE_DW B
  WHERE B.TREE_NODE = :1)
     AND A.TREE_NODE_NUM_END <= (SELECT C.TREE_NODE_NUM_END
  FROM PS_PSTREENODE_DW C
  WHERE C.TREE_NODE = :1)
     AND D.POSITION_NBR = A.TREE_NODE
     AND E.LOCATION = D.LOCATION
     AND E.EFFDT =
        (SELECT MAX(E_ED.EFFDT) FROM PS_LOCATION_TBL E_ED
        WHERE E.SETID = E_ED.SETID
          AND E.LOCATION = E_ED.LOCATION
          AND E_ED.EFFDT <= SYSDATE)
     AND D.POSITION_NBR = F.POSITION_NBR
     AND D.EMPLID = F.EMPLID
     AND D.EMPL_STATUS = 'A' ))
  ORDER BY 1
